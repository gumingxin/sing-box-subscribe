mixed-port: 7890
redir-port: 7892
tproxy-port: 7893
socks-port: 12081
authentication: [""]
allow-lan: true
mode: Rule
log-level: info
ipv6: false
external-controller: :9999
external-ui: ui
geodata-mode: true
unified-delay: true
secret: 123456
experimental: {ignore-resolve-fail: true}
store-selected: true
find-process-mode: off
profile:
  store-selected: true
authentication:
- gumingxin:1212521241
dns:
  enable: true
  ipv6: false
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  listen: 0.0.0.0:7874
  nameserver:
  - 192.168.1.14

tun:
    enable: false
    stack: system
    dns-hijack:
    - 'any:53'
    auto-route: true
    auto-detect-interface: true

sniffer:
  enable: true
  sniffing:
    - tls
    - http
  skip-domain:
    - 'Mijia Cloud'
    - 'dlg.io.mi.com'
    - '+.apple.com'
  # - '*.baidu.com'
    
  force-domain:
  # - '+'
    - 'google.com'
    - 'youtube.com'
  port-whitelist:
    - 443
    - 8000-9000


geox-url:
  geoip: "https://github.com/xishang0128/meta-rules-dat/releases/download/latest/geoip.dat"
  geosite: "https://github.com/xishang0128/meta-rules-dat/releases/download/latest/geosite.dat"
  mmdb: "https://github.com/xishang0128/meta-rules-dat/releases/download/latest/country.mmdb"


proxies:

p: &p
  type: http
  interval: 1800
  health-check:
    enable: true
    url: http://www.gstatic.com/generate_204
    interval: 300
      type: socks5
  interval: 1028
  health-check:
    enable: true
    url: http://www.gstatic.com/generate_204
    interval: 300

u: &u
  type: select
  use:
    - 全中转

pr: &pr
  type: select
  proxies:
    - 手动切换
    - 自动选择
    - 香港节点
    - 日本节点
    - 美国节点
    - 狮城节点
    - 台湾节点
    - 韩国节点
    - 泰国节点
    - 大陆节点
    - 其他地区
    - 专线节点
    - 拦截/阻断
    - 直连

jpf: &jpf
  type: select
  proxies:
    - 日本节点
    - 手动切换
    - 自动选择
    - 香港节点
    - 美国节点
    - 狮城节点
    - 台湾节点
    - 韩国节点
    - 泰国节点
    - 大陆节点
    - 其他地区
    - 专线节点
    - 拦截/阻断
    - 直连

hkf: &hkf
  type: select
  proxies:
    - 香港节点
    - 日本节点
    - 手动切换
    - 自动选择
    - 美国节点
    - 狮城节点
    - 台湾节点
    - 韩国节点
    - 泰国节点
    - 大陆节点
    - 其他地区
    - 专线节点
    - 拦截/阻断
    - 直连

cnf: &cnf
  type: select
  proxies:
    - 直连
    - 香港节点
    - 日本节点
    - 手动切换
    - 自动选择
    - 美国节点
    - 狮城节点
    - 台湾节点
    - 韩国节点
    - 泰国节点
    - 大陆节点
    - 其他地区
    - 专线节点
    - 拦截/阻断

proxy-providers:
  
  全中转: #这是名字，可以随便改，喜欢就行，但是需要一并改动上面的锚点里面的名字
    <<: *p
    url: "https://tannel.xyz/link/T04NqnWmUssFHEAs?clash=1"
    path: ./1.yaml
    #path一般不需要改，反正又看不到

    #如果觉得不好看，也可以把下面的多余的删掉，use的锚点里面的提供商删掉就行

proxy-groups:
  - name: 手动切换
    <<: *u
    proxies:
      - 自动选择

  - name: 自动选择
    type: url-test
    <<: *u
    url: "http://www.google.com/generate_204"
    interval: 300
    tolerance: 10

  - name: 香港节点
    filter: "港|HK|Hong Kong|Hongkong"
    <<: *u

  - name: 日本节点
    filter: "日|东京|大阪|埼玉|JP|Japan"
    <<: *u

  - name: 美国节点
    filter: "美|波特兰|达拉斯|俄勒冈|凤凰城|费利蒙|硅谷|拉斯维加斯|洛杉矶|圣何塞|圣克拉拉|西雅图|芝加哥|US|United States"
    <<: *u

  - name: 狮城节点
    filter: "坡|狮城|SG|Singapore"
    <<: *u

  - name: 台湾节点
    filter: "台|新北|彰化|TW|Taiwan"
    <<: *u

  - name: 韩国节点
    filter: "KR|Korea|KOR|首尔|韩|韓"
    <<: *u

  - name: 泰国节点
    filter: "泰|TH|Th|Thailand"
    <<: *u

  - name: 大陆节点
    filter: "中国|CN|cn|China|Cn|大陆"
    <<: *u

  - name: 其他地区
    filter: "俄|印|德|英|土|阿|拿|菲|澳|巴|马|Brazil|France|Germany|Luxembourg|Netherlands|Poland|South Africa|Turkey|United Kingdom"
    <<: *u

  - name: 专线节点
    filter: "AGA|aga|BGP|bgp|IEPL|iepl|IPLC|iplc|Anycast|anycast|AIA|aia|C"
    <<: *u

  - name: 拦截/阻断
    type: select
    proxies:
      - REJECT
  
  - name: 直连
    type: select
    proxies:
      - DIRECT

  - name: dns
    <<: *hkf


  - name: emby
    <<: *cnf

  - name: CF
    <<: *hkf

  - name: 咕噜咕噜
    <<: *jpf

  - name: chatgpt
    <<: *pr

  - name: 聊天软件
    <<: *hkf

  - name: NETFLIX
    <<: *jpf

  - name: Prime
    <<: *pr

  - name: DisneyPlus
    <<: *pr

  - name: HBO
    <<: *pr

  - name: Ehentai
    <<: *pr

  - name: 巴哈姆特
    type: select
    proxies:
    - 台湾节点
    - 香港节点
    - 日本节点
    - 手动切换
    - 自动选择
    - 直连

  - name: 国外网站
    <<: *jpf

  - name: "BT&PT"
    <<: *cnf

  - name: Spotify
    <<: *hkf

  - name: TikTok
    <<: *jpf

  - name: 苹果服务
    <<: *cnf

  - name: 微软服务
    <<: *jpf

  - name: OneDrive
    <<: *jpf

  - name: 哔哩API
    <<: *cnf

  - name: 哔哩哔哩
    <<: *cnf

  - name: 哔哩东南亚
    type: select
    proxies:
    - 狮城节点
    - 香港节点
    - 日本节点
    - 手动切换
    - 自动选择
    - 台湾节点
    - 泰国节点
    - 其他地区
    - 专线节点
    - 直连

  - name: 游戏平台
    <<: *cnf

  - name: 国内
    <<: *cnf

  - name: 国内游戏
    <<: *cnf

  - name: 漏网之鱼
    <<: *jpf

rules:
      - DOMAIN-KEYWORD,pilipiliultra,emby
      - DOMAIN-SUFFIX,magpie.gq,DIRECT
      - DOMAIN,cdn01.magpie.gq,DIRECT
      - DOMAIN-KEYWORD,mikuu,emby
      - DOMAIN-KEYWORD,misakaf.org,emby
      - GEOSITE,openai@ads,REJECT
      - GEOSITE,cloudflare,CF
      - GEOSITE,google,咕噜咕噜
      - GEOSITE,openai,chatgpt
      - GEOSITE,category-games,游戏平台
      - GEOSITE,tencent-games,国内游戏
      - GEOSITE,category-game-accelerator-cn,国内游戏
      - DOMAIN-KEYWORD,wanmei,国内游戏
      - GEOSITE,telegram,聊天软件
      - GEOSITE,line,聊天软件
      - GEOSITE,discord,聊天软件
      - GEOSITE,bahamut,巴哈姆特
      - GEOSITE,netflix,NETFLIX
      - GEOSITE,tiktok,TikTok
      - GEOSITE,Primevideo,Prime
      - GEOSITE,disney,DisneyPlus
      - GEOSITE,hbo,HBO
      - GEOSITE,ehentai,Ehentai
      - GEOSITE,spotify,Spotify
      - RULE-SET,BilAPI,哔哩API
      - GEOSITE,bilibili,哔哩哔哩
      - GEOSITE,biliintl,哔哩东南亚
      - GEOSITE,tracker,BT&PT
      - GEOSITE,microsoft@cn,国内
      - GEOSITE,bing,微软服务
      - GEOSITE,onedrive,OneDrive
      - GEOSITE,apple,苹果服务
      - GEOSITE,okx,国外网站
      - GEOSITE,geolocation-!cn,国外网站
      - GEOSITE,CN,国内

#GEOIP
      - GEOIP,cloudflare,CF
      - GEOIP,google,咕噜咕噜
      - GEOIP,private,DIRECT,no-resolve
      - GEOIP,netflix,NETFLIX
      - GEOIP,telegram,聊天软件
      - GEOIP,CN,国内

      - MATCH,漏网之鱼
rule-providers:

  BilAPI:
    type: http
    behavior: classical
    format: yaml
    path: ./RuleSet/BilAPI.yaml
    url: https://raw.githubusercontent.com/heinu123/bilibili-clash/main/bilibili.yaml
    interval: 86400